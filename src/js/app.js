var __={};(function(app){app.models=app.models||{};app.models.course=function(name,holes){this.name=name;this.holes=holes}})(__||{});(function(app){app.models=app.models||{};app.models.hole=function(number,par,si){this.number=number;this.par=par;this.si=si}})(__||{});(function(app){app.models=app.models||{};app.models.hole=function(hole,player,score){var self=this;var gl=new app.services.golfLogic;self.hole=hole;self.player=player;self.grossScore=score;self.freeShots=gl.calcFreeShots(self.player.handicap,self.hole.si);self.netScore=gl.calcNetScore(self.grossScore,self.freeShots);self.points=gl.calcPoints(self.grossScore,self.freeShots)}})(__||{});(function(app){app.models=app.models||{};app.models.player=function(name,handicap){this.name=name;this.handicap=handicap}})(__||{});(function(app){app.models=app.models||{};app.models.round=function(course,date,players,holeScores){this.course=course;this.date=date;this.players=players;this.holeScores=holeScores}})(__||{});(function(app){app.services=app.services||{};app.services.dummyDataProvider=function(){var allPlayers=[new app.models.player("Andy",22),new app.models.player("Kevin",28),new app.models.player("Rob",20)];var allHoles=[new app.models.hole(1,4,4),new app.models.hole(2,3,1),new app.models.hole(3,5,2),new app.models.hole(4,4,3)];var allCourses=[new app.models.course("Southwick",allHoles)];var allRounds=[new app.models.round(allCourses[0],new Date(2016,8,10),allPlayers,[])];this.getRound=function(){return allRounds[0]}}})(__||{});(function(app){app.services=app.services||{};app.services.golfLogic=function(){var self=this;self.calcFreeShots=function(hc,si){var retval=0;while(hc>=si){retval++;hc-=18}return retval};self.calcNetScore=function(gross,shots){return gross-shots};self.calcPoints=function(net,par){var s=2+(par-net);return s<0?0:s}}})(__||{});(function(app){app.controllers=app.controllers||{};app.controllers.round=function(){var dp=new app.services.dummyDataProvider;var data=dp.getRound();return data}})(__||{});(function(app){app.views=app.views||{};app.views.player=function(player){return m("div",[m("span",player.name),m("span"," ("+player.handicap+")")])}})(__||{});(function(app){app.views=app.views||{};app.views.playerList=function(players){return m("div",players.map(function(player){return app.views.player(player)}))}})(__||{});(function(app){app.views=app.views||{};app.views.round=function(round){return m("div",[m("div",[m("h2","Details"),m("div",[m("h3",round.course.name),m("h3",round.date.toString())])]),m("div",[m("h2","Players"),app.views.playerList(round.players)])])}})(__||{});(function(app){app.components=app.components||{};app.components.round={controller:app.controllers.round,view:app.views.round}})(__||{});(function(){var startup=function(){m.mount(document.body,__.components.round)};$(startup)})();